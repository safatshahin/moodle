define("aiprovider_gemini/modelchooser",["exports","core_ai/helper"],(function(_exports,_helper){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * AI provider model selection handler.
   *
   * @module     aiprovider_gemini/modelchooser
   * @copyright  2025 Anupama Sarjoshi <anupama.sarjoshi@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
const Selectors_fields={selector:'[data-modelchooser-field="selector"]',updateButton:'[data-modelchooser-field="updateButton"]',modelSettingsContainer:"id_modelsettingsheadercontainer",endpoint:'[data-modelchooser-field="endpoint"]',model:'input[name="model"]',custommodel:'input[name="custommodel"]'};_exports.init=()=>{const modelSelector=document.querySelector(Selectors_fields.selector);if(modelSelector){const modelSettings=JSON.parse(modelSelector.getAttribute("data-storedmodelsettings"))[modelSelector.value],containerId=Selectors_fields.modelSettingsContainer;modelSettings?(0,_helper.populateFields)(modelSettings,containerId):(0,_helper.clearFields)(containerId),modelSelector.addEventListener("change",(e=>{modelSelector.options[e.target.selectedIndex].selected=!0;const selectedModel=e.target.value,modelField=document.querySelector(Selectors_fields.model);modelField&&(modelField.value="custom"!==selectedModel?selectedModel:document.querySelector(Selectors_fields.custommodel).value||""),(modelName=>{const endpointField=document.querySelector(Selectors_fields.endpoint);if(endpointField&&modelName){const baseUrl="https://generativelanguage.googleapis.com/v1beta/models/",action=modelName.includes("imagen")?"predict":"generateContent";endpointField.value="".concat(baseUrl).concat(modelName,":").concat(action)}})(modelField.value);e.target.closest("form").querySelector(Selectors_fields.updateButton).click()}))}}}));

//# sourceMappingURL=modelchooser.min.js.map